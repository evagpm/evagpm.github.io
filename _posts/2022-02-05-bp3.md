---
layout: post
title: Blog Post 0 - Palmer Penguin Visualization
---

## Processing the Data and Creating the Visualization
Import necessary packages.


```python
import pandas as pd
from matplotlib import pyplot as plt  
import seaborn as sns
```

Read in the data from the csv file the spider created.


```python
movies = pd.read_csv("results.csv")
movies.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Actor</th>
      <th>Film</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Taylor Kinney</td>
      <td>Chicago Fire</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Taylor Kinney</td>
      <td>Chicago P.D.</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Taylor Kinney</td>
      <td>Chicago Med</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Taylor Kinney</td>
      <td>Here and Now</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Taylor Kinney</td>
      <td>Chicago Justice</td>
    </tr>
  </tbody>
</table>
</div>



Create a counts dict where the keys are the film names and the values are the number of actors from movies appearing in the film.


```python
counts = dict() #Set up

#For each row of movies
for obs in movies["Film"]:
    #If the film has already been added to counts, add to total
    if obs in counts.keys():
        counts[obs] = counts[obs] + 1
    #Otherwise add it
    else:
        counts[obs] = 1
```

We want to sort the dict by the counts, from biggest to smallest. 


```python
sorted_counts = dict(sorted(counts.items(), key=lambda item: -item[1]))
```

For the chart, we'll want the data to be in a list format. I'm also adding another list if the film is a show in the Chicago franchise, as there's a lot off crossovers there.


```python
films = list(sorted_counts.keys())
counts = list(sorted_counts.values())

#The chicago franchise shows have Chicago as the first 7 characters
franchise = [film[:7] == "Chicago" for film in films]
```

Now we're ready to make a plot of the top thirty films, or rather shows as it turns out.


```python
#Setup a tall plot
fig,ax=plt.subplots(figsize=(6,8))

#Create a barchart of the top thirty
sns.barplot(x = counts[:30], 
            y = films[:30],
            hue = franchise[:30], 
            dodge = False)

#Add a title to the chart
ax.set(title = "Most Common Shows Among Chicago Fire Actors")

#Add a title to the legend
ax.legend(title = "In Chicago Franchise")
```


    
![png](/images/movies.png)
    

